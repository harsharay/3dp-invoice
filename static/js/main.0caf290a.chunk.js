(this["webpackJsonp3dp-invoice"]=this["webpackJsonp3dp-invoice"]||[]).push([[0],{17:function(e,a,t){e.exports=t(36)},22:function(e,a,t){},24:function(e,a,t){},31:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(13),l=t.n(r),i=(t(22),t(2)),o=t(7),u=t(3),s=t.n(u),m=t(6),d=(t(24),t(8)),p=t.n(d);t(25),t(27);p.a.initializeApp({apiKey:"AIzaSyAAvuA7BTJRVFRym3cRHHzwfPIM3NaCTP0",authDomain:"crwn-db-b2bb7.firebaseapp.com",databaseURL:"https://crwn-db-b2bb7.firebaseio.com",projectId:"crwn-db-b2bb7",storageBucket:"crwn-db-b2bb7.appspot.com",messagingSenderId:"281711477222",appId:"1:281711477222:web:7f1a80f4d9c5158ff89627"});p.a.auth();var b=p.a.firestore(),v=t(14),f=t.n(v),E=t(15),h=t.n(E);var N=function(e){var a=e.onClick,t=e.details,n=t.customerName,r=t.productName,l=t.quantity,i=t.indiPrice,o=t.address,u=l*i,d=u+.18*u,p=new Date,v="".concat(p.getFullYear()).concat(p.getMonth()).concat(p.getHours()).concat(p.getMinutes()).concat(p.getSeconds()),E=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("invoices").add({address:o,createdAt:p,finalPrice:d,customerName:n,name:r,pricePerQuantity:i,quantity:l,invoiceNumber:v});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"display-invoice"},c.a.createElement("div",{className:"invoice-container"},c.a.createElement("p",{className:"close",onClick:a},"CLOSE"),c.a.createElement("h2",null,"Invoice"),c.a.createElement("p",null,"Customer Name: ",c.a.createElement("span",null,n.toUpperCase())),c.a.createElement("p",null,"Product Name: ",c.a.createElement("span",null,r.toUpperCase())),c.a.createElement("p",null,"Quantity: ",c.a.createElement("span",null,l)),c.a.createElement("p",null,"Price per item: ",c.a.createElement("span",null,"\u20b9",i)),c.a.createElement("p",null,"Total Price: ",c.a.createElement("span",null,"\u20b9",u)),c.a.createElement("p",null,"Final Price with GST(18%) added: ",c.a.createElement("span",null,"\u20b9",d)),c.a.createElement("p",null,"Invoice Number: ",c.a.createElement("span",null,v)),c.a.createElement("p",null,"Address of the customer: ",c.a.createElement("span",null,o)),c.a.createElement("button",{onClick:E,className:"firebase-button"},"Add to Database"),c.a.createElement("button",{onClick:function(){var e=document.querySelector(".display-invoice");f()(e).then((function(e){var a=e.toDataURL("img/png"),t=new h.a("l","in",[1600,540]);t.addImage(a,"JPEG",0,0),t.save("download.pdf")}))},className:"firebase-button"},"Download the invoice")))};t(31);var y=function(e){var a=e.buttonValue,t=e.onClick;return c.a.createElement("div",null,c.a.createElement("button",{onClick:t},a))},g=(t(32),t(16)),C=(t(33),function(e){var a=e.inputName,t=e.labelName,n=e.inputType,r=e.onChange,l=e.value;Object(g.a)(e,["inputName","labelName","inputType","onChange","value"]);return c.a.createElement("div",{className:"form-element"},c.a.createElement("label",{htmlFor:a},t),c.a.createElement("br",null),c.a.createElement("input",{type:n,name:a,value:l,onChange:r}))});t(34);var O=function(e){var a=e.onClick,t=Object(n.useState)([]),r=Object(o.a)(t,2),l=r[0],i=r[1],u=function(){var e=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("invoices").get();case 2:(a=e.sent).docs.map((function(e){return console.log(e.data())})),i(a.docs);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){u()}),[]);var d=l.map((function(e,a){var t=e.data(),n=t.name,r=t.invoiceNumber,l=t.quantity,i=t.pricePerQuantity,o=t.finalPrice,u=t.address,s=t.status;return c.a.createElement("div",{className:"card",key:a},c.a.createElement("h1",null,a+1,".",n.toUpperCase()),c.a.createElement("p",null,"Quantity:",l),c.a.createElement("p",null,"Price per item:\u20b9",i),c.a.createElement("p",null,"Final Price with GST(18%) added:\u20b9",o),c.a.createElement("p",null,"Invoice Number:",r),c.a.createElement("p",null,"Address of the customer:",u),c.a.createElement("p",null,"Status: ",s.toUpperCase()))}));return c.a.createElement("div",{className:"firebase-data"},c.a.createElement("div",{className:"invoices-header"},c.a.createElement("p",{className:"close",onClick:a},"CLOSE"),c.a.createElement("h1",null,"Invoices so far...")),c.a.createElement("div",{className:"card-grid"},l.length>0?d:c.a.createElement("h1",{style:{marginLeft:"135%"}},"Loading...")))},j=function(){var e=Object(n.useState)({customerName:"",productName:"",quantity:0,indiPrice:0,finalPrice:0,address:"",displayInvoice:!1,displayFirebaseData:!1}),a=Object(o.a)(e,2),t=a[0],r=a[1],l=function(e){var a=e.target.name,t=e.target.value;r((function(e){return"customerName"===a?Object(i.a)(Object(i.a)({},e),{},{customerName:t}):"productName"===a?Object(i.a)(Object(i.a)({},e),{},{productName:t}):"quantity"===a?Object(i.a)(Object(i.a)({},e),{},{quantity:t}):"indiPrice"===a?Object(i.a)(Object(i.a)({},e),{},{indiPrice:t}):"address"===a?Object(i.a)(Object(i.a)({},e),{},{address:t}):void 0}))};return c.a.createElement("div",{className:"form"},c.a.createElement("h1",null,"Fill this form"),c.a.createElement(C,{inputName:"customerName",inputType:"text",labelName:"Customer Name",onChange:l,value:t.customerName}),c.a.createElement(C,{inputName:"productName",inputType:"text",labelName:"Product Name",onChange:l,value:t.productName}),c.a.createElement(C,{inputName:"quantity",inputType:"number",labelName:"Quantity",onChange:l,value:t.quantity}),c.a.createElement(C,{inputName:"indiPrice",inputType:"number",labelName:"Individual Price",onChange:l,value:t.indiPrice}),c.a.createElement("label",{htmlFor:"address",className:"address-label"},"Address"),c.a.createElement("textarea",{name:"address",cols:"24",rows:"8",onChange:l,value:t.address}),c.a.createElement("div",{className:"button-group"},c.a.createElement(y,{buttonValue:"Get the invoice",onClick:function(){t.productName.length>0&&t.quantity>0&&t.indiPrice>0&&t.address.length>0?r((function(e){return Object(i.a)(Object(i.a)({},e),{},{displayInvoice:!t.displayInvoice})})):alert("Enter all the details to proceed further")}}),c.a.createElement(y,{buttonValue:"View Data from Firebase",onClick:function(){r((function(e){return Object(i.a)(Object(i.a)({},e),{},{displayFirebaseData:!t.displayFirebaseData})}))}})),t.displayInvoice?c.a.createElement(N,{onClick:function(){r((function(e){return Object(i.a)(Object(i.a)({},e),{},{displayInvoice:!t.displayInvoice})}))},details:t}):null,t.displayFirebaseData?c.a.createElement(O,{onClick:function(){r((function(e){return Object(i.a)(Object(i.a)({},e),{},{displayFirebaseData:!t.displayFirebaseData})}))}}):null)};t(35);var w=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h1",null,"Invoice")),c.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.0caf290a.chunk.js.map